cluster:
  namespace: prod

image:
  tag: "@sha256:97934dfc33064115468dfc2c03c06cf514898dd8bea6a9ad5d206d6be73916f5"

awsSettings:
  accessKey: prod-access-key
  secretKey: prod-secret
  region: us-west-2

datadog:
  enabled: true
  traceSampleRate: "0.1"
  logsInjection: "true"

appSettings:
  javaOpts: "-javaagent:/opt/datadog/dd-agent.jar -Dconfig.file=/var/lib/gen_config/application_gen.conf -XX:+UseG1GC -Xms512m -Xmx1664m"
  secretsMgrKeyID: prod-TEMPLATE_SVC_BASE
  replicas: 3
  db:
    hostname: prod-TEMPLATE_SVC_BASE-rds
    password: prod-TEMPLATE_SVC_BASE-db-password
  resources:
    requests:
      cpu: "500m"
      memory: "512Mi"
    limits:
      cpu: "2000m"
      memory: "2Gi"

configMap:
  preserveOldReleases: true

argoStrategy:
  canary:
    antiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
        weight: 1
    maxSurge: "100%"
    maxUnavailable: "0"
    steps:
    - setWeight: 10
    - pause: { }
    - setWeight: 50
    - pause: { }